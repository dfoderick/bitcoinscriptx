
<script>
    function whenPayment (payment) {
      console.log(payment)
    }
    function whenError (error) {
      console.log(error)
    }

</script>
    
    <form onsubmit="return false">
        <input id="script" size="50" type="text" placeholder="Enter Bitcoin script" value="OP_TRUE"/>
        <button id="render-button">Render</button>
      </form>

    <div>
        <div id='some-button'></div>
    </div>

    <div>
        <div class="money-button"
        data-label="Dummy Test"
        data-outputs='[{"to":"145","currency":"USD","amount":"0.03"}]'
        data-type="tip"
        data-on-payment="whenPayment"
        data-on-error="whenError"
        ></div>
    </div>

<!-- This line can go anywhere -->

<script src="https://api.moneybutton.com/moneybutton.js"></script>

<script>
    function renderButton () {
      moneyButton.render(
        document.getElementById('some-button'),
        {
          outputs: [
            {
              type:'SCRIPT',
              script: document.getElementById('script').value,
              amount: '0.02',
              currency: 'USD'
            }
          ],
          label: 'Swipe Script',
          onPayment: whenPayment,
          onError: whenError
        }
      )
    }
    document.getElementById('render-button').onclick = renderButton
    renderButton()
  </script>